name: Notify good-first-issue

on:
  issues:
    types: [labeled]

jobs:
  notify_discrod:
    name: Notify Discord
    runs-on: ubuntu-latest
    if: github.event.label.name == 'good first issue'
    steps:
      - name: Notify Discord
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_MAAKAF_WEBHOOK }}
          ISSUE_URL: ${{ github.event.issue.html_url }}
          ISSUE_TITLE: ${{ github.event.issue.title }}
        run: |
          curl -X POST -H "Content-Type: application/json" -d "{\"embeds\": [{\"title\": \"ðŸŽ‰ New Issue Alert!\", \"description\": \"ðŸ“¢ Attention new contributors! This issue has been labeled as a 'good first issue'.\n\nIssue Name: **$ISSUE_TITLE**\nIssue Link: $ISSUE_URL\", \"color\": 16750848}]}" $DISCORD_WEBHOOK
